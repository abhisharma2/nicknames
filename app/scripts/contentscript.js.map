{"version":3,"sources":["../scripts.babel/contentscript.js"],"names":[],"mappings":"AAAA;;;AAAY,CAAC;AAGb,IAAI,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK;;;AAAC,AAGzC,SAAS,QAAQ,GAAG;AAClB,MAAI,CAAC,GAAG,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;AAC5C,MAAI,CAAC,GAAG,EAAE,CAAC;AACX,MAAI,CAAC,CAAC;AACN,OAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAChC,KAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACvB,QAAG,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC,QAAQ,KAAK,CAAC,EAAE;AAC3C,OAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACX;GACF;AACD,SAAO,CAAC,CAAC;CACV;AACD,CAAC,GAAG,QAAQ,EAAE,CAAC;AACf,SAAS,OAAO,CAAC,EAAE,EAAE,EAAE,EAAE;AACvB,OAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAC,CAAC,EAAE,CAAC,EAAE,EAAC;AACrC,QAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;AACxB,KAAC,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC,OAAO,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC;GACpC;CACF;;AAAA,AAED,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;AACtD,IAAI,GAAG,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;AAC1D,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;AAC3B,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;AAC5B,GAAG,CAAC,MAAM,GAAG,YAAY;AACvB,MAAI,GAAG,CAAC,UAAU,KAAK,CAAC,EAAE;AACxB,QAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;AACtB,SAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AACnC,UAAI,GAAG,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;AACvC,UAAI,CAAC,OAAO,CAAC,UAAS,IAAI,EAAC;AACzB,aAAK,GAAG,IAAI,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AAC9B,YAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;AAC7B,iBAAO,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;SAC1B;OACF,CAAC,CAAC;KACJ,MAAM;AACL,aAAO,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;KAC/B;GACF;CACF,CAAC;AACF,GAAG,CAAC,OAAO,GAAG,YAAY;AACxB,SAAO,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;CAC/B,CAAC;AACF,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC","file":"contentscript.js","sourcesContent":["'use strict';\n\n// all variables\nvar n, obj, keys, text, xhr, json, regex;\n\n//replacing matching names\nfunction selector() {\n  var e = document.querySelectorAll('body *');\n  var r = [];\n  var c;\n  for(var i = 0; i < e.length; i++) {\n    c = e[i].childNodes[0];\n    if(e[i].hasChildNodes() && c.nodeType === 3) {\n      r.push(c);\n    }\n  }\n  return r;\n}\nn = selector();\nfunction replace(rn, nn) {\n  for (var i = 0, l = n.length; i<l; i++){\n    var nv = n[i].nodeValue;\n    n[i].nodeValue = nv.replace(rn,nn);\n  }\n}\n// load data\njson = chrome.extension.getURL('data/nicknames.json');\ntext = document.getElementsByTagName('body')[0].innerText;\nxhr = new XMLHttpRequest();\nxhr.open('GET', json, true);\nxhr.onload = function () {\n  if (xhr.readyState === 4) {\n    if (xhr.status === 200) {\n      obj = JSON.parse(xhr.responseText);\n      keys = Object.getOwnPropertyNames(obj);\n      keys.forEach(function(name){\n        regex = new RegExp(name, 'g');\n        if (text.search(regex) !== -1) {\n          replace(name, obj[name]);\n        }\n      });\n    } else {\n      console.error(xhr.statusText);\n    }\n  }\n};\nxhr.onerror = function () {\n  console.error(xhr.statusText);\n};\nxhr.send(null);\n"]}